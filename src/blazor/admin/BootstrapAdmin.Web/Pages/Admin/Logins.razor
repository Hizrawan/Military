@page "/Admin/Logins"

<AdminTable TItem="LoginLog" IsMultipleSelect="false" IsPagination="true" PageItemsSource="PageItemsSource" SortString="LoginTime desc"
            ShowDefaultButtons="false" ShowExtendButtons="false" CustomerSearchModel="LoginLogSearchModel"
            OnQueryAsync="OnQueryAsync">
    <TableColumns>
        <TableColumn @bind-Field="@context.UserName" Filterable="true" Searchable="true"></TableColumn>
        <TableColumn @bind-Field="@context.LoginTime" Filterable="true"></TableColumn>
        <TableColumn @bind-Field="@context.Ip" Filterable="true" Searchable="true"></TableColumn>
        <TableColumn @bind-Field="@context.City" Filterable="true" Searchable="true"></TableColumn>
        <TableColumn @bind-Field="@context.Browser" Filterable="true"></TableColumn>
        <TableColumn @bind-Field="@context.OS" Filterable="true"></TableColumn>
        <TableColumn @bind-Field="@context.Result" Filterable="true" Searchable="true">
            <Template Context="v">
                @if (v.Value == @Localizer["LoginSuccess"])
                {
                    <Tag Color="Color.Success">@v.Value</Tag>
                }
                else
                {
                    <Tag Color="Color.Danger">@v.Value</Tag>
                }
            </Template>
        </TableColumn>
    </TableColumns>
    <CustomerSearchTemplate Context="v">
        @if (v is LoginLogSearchModel m)
        {
            <LoginLogSearch @bind-Value="m"></LoginLogSearch>
        }
    </CustomerSearchTemplate>
</AdminTable>
